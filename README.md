# Skills Agent

ä¸€ä¸ªåŸºäºLangGraphçš„æ™ºèƒ½Agentç³»ç»Ÿï¼Œæ”¯æŒåŠ¨æ€åŠ è½½æŠ€èƒ½å’Œå·¥å…·ï¼Œèƒ½å¤Ÿè‡ªä¸»å®Œæˆå„ç§ä»»åŠ¡ã€‚

## ğŸ“‹ é¡¹ç›®ä»‹ç»

Skills Agentæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„AIåŠ©æ‰‹æ¡†æ¶ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- **åŸºäºLangGraph**ï¼šä½¿ç”¨ç°ä»£çŠ¶æ€æœºç®¡ç†AIå·¥ä½œæµ
- **åŠ¨æ€æŠ€èƒ½åŠ è½½**ï¼šæŒ‰éœ€åŠ è½½æŠ€èƒ½ï¼Œæé«˜æ•ˆç‡
- **ä¸°å¯Œçš„å·¥å…·é›†**ï¼šå†…ç½®å¤šç§å®ç”¨å·¥å…·
- **æ™ºèƒ½å†³ç­–**ï¼šAIè‡ªåŠ¨åˆ†æä»»åŠ¡å¹¶é€‰æ‹©æœ€ä½³æ‰§è¡Œè·¯å¾„
- **å¼‚æ­¥æ‰§è¡Œ**ï¼šæ”¯æŒå¹¶å‘æ“ä½œï¼Œæé«˜æ€§èƒ½

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.13+
- ä¸€ä¸ªæ”¯æŒOpenAIå…¼å®¹æ¥å£çš„LLMï¼ˆæ¨èé˜¿é‡Œäº‘DashScopeï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/yourusername/skills-agent.git
   cd skills-agent
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**
   å¤åˆ¶`.env.example`æ–‡ä»¶ä¸º`.env`ï¼Œå¹¶å¡«å…¥ä½ çš„AIæ¨¡å‹ä¿¡æ¯ï¼š
   ```env
   # AIæ¨¡å‹é…ç½®
   LLM_MODEL=qwen-plus
   LLM_API_KEY=ä½ çš„APIå¯†é’¥
   LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
   
   # æŠ€èƒ½ç›®å½•
   SKILLS_DIR=./skills
   ```

## ğŸ“ é¡¹ç›®ç»“æ„

```
skills-agent/
â”œâ”€â”€ skills/          # æŠ€èƒ½åº“
â”‚   â”œâ”€â”€ weather/     # å¤©æ°”æŸ¥è¯¢æŠ€èƒ½
â”‚   â”œâ”€â”€ github/      # GitHubæ“ä½œæŠ€èƒ½
â”‚   â””â”€â”€ ...          # å…¶ä»–æŠ€èƒ½
â”œâ”€â”€ graph.py         # LangGraphå·¥ä½œæµå®šä¹‰
â”œâ”€â”€ nodes.py         # æ ¸å¿ƒåŠŸèƒ½èŠ‚ç‚¹
â”œâ”€â”€ skill.py         # æŠ€èƒ½ç®¡ç†å™¨
â”œâ”€â”€ tools.py         # å·¥å…·å®šä¹‰
â”œâ”€â”€ states.py        # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ mcp_manager.py   # å·¥å…·è¿æ¥å™¨
â”œâ”€â”€ llm2.py          # AIæ¨¡å‹é…ç½®
â”œâ”€â”€ run.py           # ä¸»å…¥å£
â”œâ”€â”€ requirements.txt # ä¾èµ–åˆ—è¡¨
â””â”€â”€ README.md        # é¡¹ç›®æ–‡æ¡£
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. æŠ€èƒ½ç³»ç»Ÿ

- **æŠ€èƒ½æ‰«æ**ï¼šè‡ªåŠ¨æ‰«æ`skills`ç›®å½•ï¼Œè¯†åˆ«æ‰€æœ‰å¯ç”¨æŠ€èƒ½
- **æŠ€èƒ½åŠ è½½**ï¼šæ ¹æ®ä»»åŠ¡éœ€æ±‚åŠ¨æ€åŠ è½½æŠ€èƒ½
- **æŠ€èƒ½ä¸Šä¸‹æ–‡**ï¼šä¸ºæ¯ä¸ªæŠ€èƒ½æä¾›è¯¦ç»†çš„åŠŸèƒ½æè¿°

### 2. å·¥å…·ç³»ç»Ÿ

- **åŸºç¡€å·¥å…·**ï¼šå†…ç½®æ–‡ä»¶æ“ä½œã€å‘½ä»¤æ‰§è¡Œç­‰é€šç”¨å·¥å…·
- **MCPå·¥å…·**ï¼šä»æŠ€èƒ½ä¸­åŠ è½½ç‰¹å®šé¢†åŸŸçš„å·¥å…·
- **å·¥å…·è°ƒåº¦**ï¼šæ™ºèƒ½é€‰æ‹©å’Œæ‰§è¡Œé€‚åˆä»»åŠ¡çš„å·¥å…·

### 3. å†³ç­–ç³»ç»Ÿ

- **ä»»åŠ¡åˆ†æ**ï¼šåˆ†æç”¨æˆ·ä»»åŠ¡ï¼Œç¡®å®šæ‰€éœ€æŠ€èƒ½å’Œå·¥å…·
- **æŠ€èƒ½å†³ç­–**ï¼šåˆ¤æ–­æ˜¯å¦éœ€è¦åŠ è½½æ–°æŠ€èƒ½
- **å·¥å…·é€‰æ‹©**ï¼šé€‰æ‹©æœ€é€‚åˆçš„å·¥å…·æ‰§è¡Œä»»åŠ¡

### 4. LangGraphå·¥ä½œæµ

é¡¹ç›®ä½¿ç”¨LangGraphå®šä¹‰äº†å®Œæ•´çš„å·¥ä½œæµï¼š

1. **åˆå§‹åŒ–**ï¼šé‡ç½®çŠ¶æ€ï¼Œå‡†å¤‡æ‰§è¡Œç¯å¢ƒ
2. **å†³ç­–**ï¼šAIåˆ†æä»»åŠ¡ï¼Œå†³å®šä¸‹ä¸€æ­¥è¡ŒåŠ¨
3. **æŠ€èƒ½åŠ è½½**ï¼šåŠ è½½æ‰€éœ€æŠ€èƒ½åŠå…¶å·¥å…·
4. **å·¥å…·æ‰§è¡Œ**ï¼šæ‰§è¡ŒAIè¯·æ±‚çš„å·¥å…·ï¼Œè·å–ç»“æœ
5. **å“åº”**ï¼šæ€»ç»“æ‰§è¡Œç»“æœï¼Œç”Ÿæˆæœ€ç»ˆå“åº”

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤è¡Œæ‰§è¡Œ

```bash
# åŸºæœ¬ç”¨æ³•
python run.py "ä½ çš„ä»»åŠ¡æè¿°"

# ç¤ºä¾‹ï¼šæŸ¥è¯¢å¤©æ°”
python run.py "å¸®æˆ‘æŸ¥è¯¢æ˜å¤©åŒ—äº¬çš„å¤©æ°”"

# ç¤ºä¾‹ï¼šæ‰§è¡Œå‘½ä»¤
python run.py "æ‰§è¡Œls -laå‘½ä»¤"
```

### è‡ªå®šä¹‰æŠ€èƒ½

1. **åˆ›å»ºæŠ€èƒ½ç›®å½•**
   ```bash
   mkdir -p skills/my_skill
   ```

2. **åˆ›å»ºæŠ€èƒ½æè¿°æ–‡ä»¶**
   åœ¨`skills/my_skill`ç›®å½•ä¸‹åˆ›å»º`SKILL.md`æ–‡ä»¶ï¼š
   ```markdown
   # My Skill
   
   è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æŠ€èƒ½ï¼Œç”¨äº...
   
   ## åŠŸèƒ½
   - åŠŸèƒ½1
   - åŠŸèƒ½2
   ```

3. **æ·»åŠ MCPé…ç½®ï¼ˆå¯é€‰ï¼‰**
   å¦‚æœä½ çš„æŠ€èƒ½éœ€è¦è¿æ¥å¤–éƒ¨æœåŠ¡ï¼Œå¯ä»¥åˆ›å»º`mcp_config.json`æ–‡ä»¶ï¼š
   ```json
   {
     "mcpServers": {
       "my_tool": {
         "url": "http://localhost:8000",
         "type": "http"
       }
     }
   }
   ```

## ğŸ§  å·¥ä½œåŸç†

### æ ¸å¿ƒæ‰§è¡Œæµç¨‹

1. **å¯åŠ¨æµç¨‹**ï¼š`run.py`ä¸­çš„`run_agent`å‡½æ•°åˆ›å»ºå¹¶æ‰§è¡ŒLangGraphå·¥ä½œæµ
2. **å†³ç­–è¿‡ç¨‹**ï¼š`decision_node`åˆ†æä»»åŠ¡ï¼Œå†³å®šæ˜¯å¦éœ€è¦æŠ€èƒ½æˆ–å·¥å…·
3. **æŠ€èƒ½åŠ è½½**ï¼š`skill_node`åŠ è½½æ‰€éœ€æŠ€èƒ½åŠå…¶å·¥å…·
4. **å·¥å…·æ‰§è¡Œ**ï¼š`tool_node`æ‰§è¡ŒAIè¯·æ±‚çš„å·¥å…·ï¼Œè·å–ç»“æœ
5. **å“åº”ç”Ÿæˆ**ï¼š`respond_node`æ€»ç»“æ‰§è¡Œç»“æœï¼Œç”Ÿæˆæœ€ç»ˆå“åº”

### çŠ¶æ€ç®¡ç†

é¡¹ç›®ä½¿ç”¨`AgentState`ç®¡ç†æ‰§è¡ŒçŠ¶æ€ï¼š

```python
class AgentState(MessagesState):
    available_skills: List[str]    # å·²åŠ è½½çš„æŠ€èƒ½
    skill_context: Dict[str, str]   # æŠ€èƒ½ä¸Šä¸‹æ–‡
    required_skills: List[str]      # éœ€è¦åŠ è½½çš„æŠ€èƒ½
    task_complete: bool             # ä»»åŠ¡æ˜¯å¦å®Œæˆ
    pending_tool_calls: List[dict]   # å¾…æ‰§è¡Œçš„å·¥å…·è°ƒç”¨
```

## ğŸ› ï¸ å†…ç½®å·¥å…·

### åŸºç¡€å·¥å…·

- **view_file**ï¼šè¯»å–æ–‡ä»¶å†…å®¹
- **execute_bash**ï¼šæ‰§è¡Œbashå‘½ä»¤
- **list_directory**ï¼šåˆ—å‡ºç›®å½•å†…å®¹
- **write_file**ï¼šå†™å…¥æ–‡ä»¶
- **parse_times**ï¼šè§£ææ—¶é—´è¡¨è¾¾å¼

### æŠ€èƒ½å·¥å…·

é¡¹ç›®å†…ç½®äº†50+ç§æŠ€èƒ½ï¼ŒåŒ…æ‹¬ï¼š

- **ç”Ÿæ´»åŠ©æ‰‹**ï¼šæŸ¥å¤©æ°”ã€å¯¼èˆªã€è®¢å¤–å–
- **å·¥ä½œå·¥å…·**ï¼šå†™æ–‡æ¡ˆã€åšè¡¨æ ¼ã€æŸ¥èµ„æ–™
- **å¨±ä¹åŠŸèƒ½**ï¼šç”Ÿæˆå›¾ç‰‡ã€è®²ç¬‘è¯ã€æ¨èç”µå½±
- **å¼€å‘åŠ©æ‰‹**ï¼šå†™ä»£ç ã€æ‰¾bugã€æŸ¥æ–‡æ¡£

## ğŸ“Š é¡¹ç›®æ¶æ„

### æ ¸å¿ƒç»„ä»¶

- **graph.py**ï¼šå®šä¹‰LangGraphå·¥ä½œæµ
- **nodes.py**ï¼šå®ç°æ ¸å¿ƒåŠŸèƒ½èŠ‚ç‚¹
- **skill.py**ï¼šç®¡ç†æŠ€èƒ½ç³»ç»Ÿ
- **tools.py**ï¼šå®šä¹‰å·¥å…·
- **states.py**ï¼šç®¡ç†çŠ¶æ€
- **mcp_manager.py**ï¼šè¿æ¥å¤–éƒ¨æœåŠ¡
- **llm2.py**ï¼šé…ç½®AIæ¨¡å‹

### å·¥ä½œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆå§‹åŒ–  â”‚ â”€â”€> â”‚   å†³ç­–    â”‚ â”€â”€> â”‚  åŠ è½½æŠ€èƒ½  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†‘                  â”‚
                   â”‚                  â”‚
                   â”‚                  â†“
                   â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚             â”‚  æ‰§è¡Œå·¥å…·  â”‚
                   â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â†“
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   å“åº”     â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ é…ç½®é€‰é¡¹

### ç¯å¢ƒå˜é‡

| å˜é‡å | æè¿° | é»˜è®¤å€¼ |
|-------|------|-------|
| LLM_MODEL | è¯­è¨€æ¨¡å‹åç§° | qwen-plus |
| LLM_API_KEY | è¯­è¨€æ¨¡å‹APIå¯†é’¥ | - |
| LLM_BASE_URL | è¯­è¨€æ¨¡å‹APIåŸºç¡€URL | https://dashscope.aliyuncs.com/compatible-mode/v1 |
| SKILLS_DIR | æŠ€èƒ½ç›®å½•è·¯å¾„ | ./skills |

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç å’ŒæŠ€èƒ½ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Forké¡¹ç›®
2. åˆ›å»ºåˆ†æ”¯
3. æäº¤æ›´æ”¹
4. å‘èµ·Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ“ è”ç³»æ–¹å¼

- GitHub: [https://github.com/yourusername/skills-agent](https://github.com/yourusername/skills-agent)
- Email: your.email@example.com

---

**äº«å—AIåŠ©æ‰‹å¸¦æ¥çš„ä¾¿åˆ©ï¼** ğŸ‰